<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="./template.xhtml">
  <ui:define name="cabecalho">
    <h:outputText id="titulo" value="Web Doces - Vendas" styleClass="titulo"/>
  </ui:define>
  <ui:define name="conteudo">
    <h:panelGrid columns="2" columnClasses="estiloColuna, estiloColuna" style="width: 100%">
        <h:outputText id="webDoces" value="Web Doces" />
        <h:outputText id="carrinho" value="Carrinho de Compras"/>

        <h:dataTable id="tabela" value="#{vendaMB.listaDoces}" var="doce" style="width: 100%">
          <h:column>
            <h:graphicImage value="/imagens/#{doce.id}.jpg" height="70" width="70"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              Doce
            </f:facet>
            <h:outputText id="desc" value="#{doce.descricao}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              Valor
            </f:facet>
            <h:outputText id="valor" value="#{doce.valor}">
              <f:convertNumber type="currency" minFractionDigits="2" maxFractionDigits="2" currencySymbol="R$"/>
            </h:outputText>
          </h:column>
          <h:column>
            <h:commandButton id="selecionar" value="Selecionar" action="#{vendaMB.selecionar}"/>
          </h:column>
        </h:dataTable>

        <h:dataTable id="selecionados" value="#{vendaMB.selecionados}" var="doce" style="width: 100%">
          <h:column>
            <f:facet name="header">
              Doce
            </f:facet>
            <h:outputText id="descSelecionado" value="#{doce.descricao}"/>
            <f:facet name="footer">
              Total
            </f:facet>
          </h:column>
          <h:column>
            <f:facet name="header">
              Valor
            </f:facet>
            <h:outputText id="valorSelecionado" value="#{doce.valor}">
              <f:convertNumber type="currency" minFractionDigits="2" maxFractionDigits="2" currencySymbol="R$"/>
            </h:outputText>
            <f:facet name="footer">
              <h:outputText id="valorTotal" value="#{vendaMB.valorTotal}">
                <f:convertNumber type="currency" minFractionDigits="2" maxFractionDigits="2" currencySymbol="R$"/>
              </h:outputText>
            </f:facet>
          </h:column>
        </h:dataTable>
      </h:panelGrid>
      <h:panelGrid columns="2" style="width: 100%; text-align: right">
        <h:commandButton id="finalizarVenda" value="Finalizar Venda" action="#{vendaMB.finalizarVenda}"/>
      </h:panelGrid>
  </ui:define>

</ui:composition>
